# 进程线程
1. 进程：CPU 在运行指令和保存上下文所需要的时间
  (比如： 手机打开微信，系统在执行打开指令，到加载微信上下文环境，直到彻底关闭微信之前的这段时间，都是一个进程)

2. 线程：线程是进程里面的一个更小的单位，通常多个线程配合工作构成一个进程。
  (比如：打开微信聊天界面，就需要一个渲染线程，同时获取到最新的消息，需要一个网络线程)

3. 进程和线程的关系：一个进程里面至少有一个线程，进程里面的多个线程可以配合工作，共同完成一个进程的任务。

- 浏览器新开一个 tab 页面就是一个新的进程，这个进程中有很多线程相互配合工作最后展示页面给到用户。这个过程涉及到的线程有:
1. http 线程
2. js 引擎线程
3. 渲染线程

- 线程之间通常都可以同时工作，但是只有 js 引擎线程和渲染线程是互斥的，但是其他线程之间是可以同时工作的。

# 异步
- V8 在执行 js 代码时， 默认只会开启一个线程工作 (js 是单线程的)，所以考虑到执行效率，v8 会先执行同步代码，遇到异步代码时，会将异步代码存放到任务队列，等待 js 引擎线程空闲时，再从任务队列中取出异步代码执行。

# Event-Loop
- js 代码中有同步和异步之分，异步还可以分为微任务和宏任务。
    - 微任务：Promise.then, process.nextTick, MutationObserver, async/await
    - 宏任务：setTimeout、setInterval、ajax、DOM 事件

- 执行顺序：
1. 先执行同步代码，这个过程中遇到异步，就存入任务队列
2. 同步执行完毕后，先执行微任务队列中的代码
3. 微任务全部执行完毕后，有需要的情况下渲染页面
4. 渲染完毕后，执行宏任务队列中的代码 (开启了下一次的事件循环)


# await
1. 会将后续的代码挤入微任务队列
2. 浏览器将 await 的执行时间提前了 (await 后面的代码当成同步来看待)
